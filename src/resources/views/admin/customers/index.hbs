<div class="details">
  <div class="cardHeader">
    <h2>{{title}}</h2>
    <a href="/admin/customers/create" class="btn">Thêm mới</a>
  </div>

  {{#if customers.length}}
    <table>
      <thead>
        <tr>
          <td>ID</td>
          <td>Tên tài khoản</td>
          <td>Tên khách hàng</td>
          <td>Số điện thoại</td>
          <td>Ngày sinh</td>
          <td>Thao tác</td>
        </tr>
      </thead>
      <tbody>
        {{#each customers}}
          <tr>
            <td>{{ID_KH}}</td>
            <td>{{TenTK}}</td>
            <td>{{TenKH}}</td>
            <td>{{SDT}}</td>
            <td>{{formatDate NgaySinh}}</td>
            <td class="actions">
              <a href="/admin/customers/details/{{ID_KH}}" class="view" title="Xem chi tiết"><i class="fas fa-eye"></i></a>
              <a href="/admin/customers/edit/{{ID_KH}}" class="edit" title="Chỉnh sửa"><i class="fas fa-edit"></i></a>
              <a href="/admin/customers/delete/{{ID_KH}}" class="delete" title="Xóa" onclick="return confirm('Bạn có chắc chắn muốn xóa khách hàng này?');"><i class="fas fa-trash-alt"></i></a>
            </td>
          </tr>
        {{/each}}
      </tbody>
    </table>
  {{else}}
    <p>Không có khách hàng nào.</p>
  {{/if}}
  
  {{#section 'js'}}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Show success/error messages if they exist in the session
      {{#if req.session.success}}
      showNotification('{{req.session.success}}', 'success');
      {{/if}}
      
      {{#if req.session.error}}
      showNotification('{{req.session.error}}', 'error');
      {{/if}}
    });

    function showNotification(message, type) {
      // You can implement a notification system or use alerts
      alert(message);
    }
  </script>
  {{/section}}

  {{#section 'css'}}
  <link rel="stylesheet" href="/css/admin/customers.css">
  {{/section}}
</div>