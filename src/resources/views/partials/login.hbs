    <div class=" flex items-center justify-center min-h-screen">
        <div class="bg-white p-8 rounded-2xl shadow-lg w-full max-w-md">
            <div class="flex justify-center mb-6">
              <div id="loginTab" class=" text-red-600 text-lg font-medium cursor-pointer mr-8 border-red-600 border-b-2 border-transparent border-400" onclick="switchTab('login')">Đăng nhập</div>
              <div id="registerTab" class="text-gray-600 text-lg font-semibold border-b-2  cursor-pointer" onclick="switchTab('register')">Đăng ký</div>
            </div>
        
            <form id="formdangnhap" class="space-y-4 " action="/user/login" method="post">
              <div>
                <label class="block text-sm font-medium text-gray-700">Số điện thoại</label>
                <div class="flex items-center mt-1">
                  <input id="loginPhone" name="user_telephone" type="tel" placeholder="Nhập số điện thoại" class="flex-1 px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                  
                </div>
              </div>
        
              <div>
                <label class="block text-sm font-medium text-gray-700">Mật khẩu</label>
                <div class="relative mt-1">
                  <input id="loginPassword" name="user_password" type="password" id="passwordInput" placeholder="Nhập mật khẩu" class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 focus:outline-none">
                  <button type="button" onclick="togglePassword()" id="toggleBtn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-600 text-sm font-medium">Hiện</button>

                </div>
              </div>
        
              <button type="submit" class="hover:bg-red-500 hover:text-white transition w-full bg-gray-300 text-gray-600 font-semibold py-2 rounded-lg cursor-not-allowed">Đăng nhập</button>
            </form>
            <form id="formdangki" class="space-y-4 hidden" action="/user/registration" method="post">
              <div>
                <label class="block text-sm font-medium text-gray-700">Số điện thoại</label>
                <div class="flex items-center mt-1">
                  <input id="registerPhone" name="user_telephone" type="tel" placeholder="Nhập số điện thoại" class="flex-1 px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <button type="button" class="ml-2 text-blue-600 text-sm font-medium"></button>
                </div>

                <label class="block text-sm font-medium text-gray-700">Tên tài khoản</label>
                <div class="flex items-center mt-1">
                  <input id="registerAccountName" name="user_account_name" type="tel" placeholder="Nhập tên tài khoản" class="flex-1 px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <button type="button" class="ml-2 text-blue-600 text-sm font-medium"></button>
                </div>

                <label class="block text-sm font-medium text-gray-700">Tên khách hàng</label>
                <div class="flex items-center mt-1">
                  <input id="registerFullName" name="user_name" type="tel" placeholder="Nhập tên khách hàng" class="flex-1 px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
                  <button type="button" class="ml-2 text-blue-600 text-sm font-medium"></button>
                </div>

              </div>
        
              <div>
                <label class="block text-sm font-medium text-gray-700">Mật khẩu</label>
                <div class="relative mt-1">
                  <input id="registerPassword"  name="user_password" type="password" id="password" placeholder="Nhập mật khẩu" class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 focus:outline-none">
                  <button type="button" onclick="togglePassword('password', 'togglePasswordBtn')" id="togglePasswordBtn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-600 text-sm font-medium">Hiện</button>
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700">Nhập lại mật khẩu</label>
                <div class="relative mt-1">
                  <input id="registerConfirmPassword" name="user_confirm_password" type="password" id="confirmPassword" placeholder="Nhập lại mật khẩu" class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 focus:outline-none">
                  <button type="button" onclick="togglePassword('confirmPassword', 'toggleConfirmBtn')" id="toggleConfirmBtn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-600 text-sm font-medium">Hiện</button>
                </div>
              </div>

        
              <button type="submit" class="hover:bg-red-500 hover:text-white transition w-full bg-gray-300 text-gray-600 font-semibold py-2 rounded-lg cursor-not-allowed">Đăng ký</button>
            </form>
        
            <p class="text-xs text-center text-gray-500 mt-6">

            </p>
          </div>
    </div>

<script>
  function switchTab(tab) {
    const loginTab = document.getElementById('loginTab');
    const registerTab = document.getElementById('registerTab');
    const formLogin = document.getElementById('formdangnhap');
    const formRegister = document.getElementById('formdangki');

    if (tab === 'login') {
      loginTab.classList.add('text-red-600', 'font-semibold', 'border-red-600');
      loginTab.classList.remove('text-gray-600');

      registerTab.classList.remove('text-red-600', 'font-semibold', 'border-red-600');
      registerTab.classList.add('text-gray-600');

      formLogin.classList.remove('hidden');
      formRegister.classList.add('hidden');
    } else {
      registerTab.classList.add('text-red-600', 'font-semibold', 'border-red-600');
      registerTab.classList.remove('text-gray-600');

      loginTab.classList.remove('text-red-600', 'font-semibold', 'border-red-600');
      loginTab.classList.add('text-gray-600');

      formRegister.classList.remove('hidden');
      formLogin.classList.add('hidden');
    }
  }

  function togglePassword(inputId = 'passwordInput', buttonId = 'toggleBtn') {
    const passwordInput = document.getElementById(inputId);
    const toggleBtn = document.getElementById(buttonId);

    if (passwordInput && toggleBtn) {
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleBtn.textContent = 'Ẩn';
      } else {
        passwordInput.type = 'password';
        toggleBtn.textContent = 'Hiện';
      }
    }
  }
</script>
<script>
  document.getElementById('formdangnhap').addEventListener('submit', async function (e) {
    e.preventDefault();
    const phone = document.getElementById('loginPhone').value.trim().replace(/\s+/g, '');
    const password = document.getElementById('loginPassword').value;

    const phoneRegex = /^(0[2-9][0-9]{8,9})$/;

    if (!phoneRegex.test(phone)) {
      alert("Số điện thoại không hợp lệ. Vui lòng nhập đúng định dạng.");
      return;
    }

    if (password.length === 0) {
      alert("Vui lòng nhập mật khẩu.");
      return;
    }
    const form = e.target;
    const formData = new URLSearchParams();
    formData.append('user_telephone', phone);
    formData.append('user_password', password);

    try {
      const res = await fetch(form.action, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: new URLSearchParams({
          user_telephone: phone,
          user_password: password
        })
      });
        const data = await res.json();

        if (data.success) {
          alert(data.message);
          window.location.href = "/"; 
        } else {
          alert(data.message);
        }
    } catch (err) {
      console.error("Lỗi khi đăng nhập:", err);
      alert("Có lỗi xảy ra.");
    }
  });

  document.getElementById('formdangki').addEventListener('submit', async function (e) {
    e.preventDefault();
    const phone = document.getElementById('registerPhone').value.trim().replace(/\s+/g, '');
    const accountName = document.getElementById('registerAccountName').value.trim();
    const fullName = document.getElementById('registerFullName').value.trim();
    const password = document.getElementById('registerPassword').value;
    const confirmPassword = document.getElementById('registerConfirmPassword').value;

    const phoneRegex = /^(0[2-9][0-9]{8,9})$/;

    if (!phoneRegex.test(phone)) {
      alert("Số điện thoại không hợp lệ. Vui lòng nhập đúng định dạng.");
      return;
    }

    if (accountName === "") {
      alert("Vui lòng nhập tên tài khoản.");
      return;
    }

    if (fullName === "") {
      alert("Vui lòng nhập tên khách hàng.");
      return;
    }

    if (password.length < 6) {
      alert("Mật khẩu phải có ít nhất 6 ký tự.");
      return;
    }

    if (password !== confirmPassword) {
      alert("Mật khẩu và xác nhận mật khẩu không khớp.");
      return;
    }
    const form = e.target;
    const formData = new URLSearchParams();
    formData.append('user_telephone', phone);
    formData.append('user_account_name', accountName);
    formData.append('user_name', fullName);
    formData.append('user_password', password);
    formData.append('user_confirm_password', confirmPassword);


console.log("Form đang gửi...");

    try {
      const res = await fetch(form.action, {
        method: 'POST',
          headers: {
    'Content-Type': 'application/x-www-form-urlencoded'
  },
        body: formData
      });

      const data = await res.json();

      if (data.success) {
        alert("Đăng ký thành công!");
        window.location.href = "/user";
      } else {
        alert(data.message);
      }
    } catch (err) {
      console.error("Lỗi khi đăng ký:", err);
      alert("Có lỗi xảy ra.");
    }
  });
</script>

